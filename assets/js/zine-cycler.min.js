var mgr;p5.disableFriendlyErrors=!0;var beasleyPic,eakesPic,powellPic,banPic,moranPic,knegoPic,leePic,headPic,collabLogo,sceneLength=3660,frameCountdown=0,sceneNames=[BeasleySketch,EakesSketch,PowellSketch,BANSketch,MoranSketch,KnegoSketch,LeeSketch],sceneBank=[],pentaPoints=[];class PackedPentagon{constructor(){this.regen()}regen(){this.pos=createVector(random(width),random(height)),this.rad=1,this.angle=random(TWO_PI),this.growing=!0,this.startFrame=frameCount}step(e){if(this.growing){this.rad+=.5;for(let t of e)if(t!=this&&t.rad+this.rad>2*this.pos.dist(t.pos))return this.growing=!1,void(t.growing=!1)}}show(){if(!(this.rad<16)||this.growing){for(var e of(push(),translate(this.pos.x,this.pos.y),scale(this.rad),rotate(this.angle),beginShape(),pentaPoints))vertex(e.x,e.y);endShape(CLOSE),pop()}}}class GlassPentagon{constructor(){this.pos=createVector(random(width),random(height)),this.vel=p5.Vector.random2D().mult(random(1,3)),this.col=random(["#0000977C","#0048007C","#DA00007C","#BC9ECA7C","#DA489770","#DA4897A0"]),this.noiseOffset=random(999)}step(){this.pos.add(this.vel),(this.pos.x<0||this.pos.x>width)&&(this.vel.x*=-1),(this.pos.y<0||this.pos.y>height)&&(this.vel.y*=-1)}show(){for(var e of(push(),translate(this.pos.x,this.pos.y),scale(120),rotate(2*TWO_PI*noise(this.noiseOffset+frameCount/300)),fill(this.col),beginShape(),pentaPoints))vertex(e.x,e.y);endShape(),pop()}}class PentagonGrid{constructor(){this.rad=40,this.rows=ceil(.8*height/this.rad/1.6),this.cols=ceil(.8*width/this.rad/1.6),this.nd={dp:.01,df:.005,di:.2,dfi:.005}}show(){for(let t=1;t<=this.rows;t++)for(let i=1;i<=this.cols;i++){push();let n=map(i,1,this.cols,.1*width,.9*width),a=map(t,1,this.rows,.1*height,.9*height),o=createVector(n,a);for(var e of(translate(o.x,o.y),scale(this.rad+30*noise(o.x*this.nd.dp,o.y*this.nd.dp,frameCount*this.nd.df)),rotate(noise(o.x*this.nd.dp+500,o.y*this.nd.dp+500,frameCount*this.nd.df+500)),beginShape(),pentaPoints))vertex(e.x,e.y);endShape(),pop()}}}function populateSceneBank(){for(let e of sceneNames)sceneBank.push(e);shuffle(sceneBank,!0)}function preload(){beasleyPic=loadImage("assets/img/derrick-beasley-prism.png"),eakesPic=loadImage("assets/img/cwe-prism.png"),powellPic=loadImage("assets/img/jermaine-powell-prism.png"),banPic=loadImage("assets/img/ban-artwork-prism.png"),moranPic=loadImage("assets/img/mailande-moran-prism.png"),knegoPic=loadImage("assets/img/samir-knego-prism.png"),leePic=loadImage("assets/img/jim-lee-prism.png"),headPic=loadImage("assets/img/jim-lee-head.png"),collabLogo=loadImage("assets/img/collab-logo.png")}function setup(){createCanvas(window.innerWidth,window.innerHeight).parent(document.getElementById("sketch-container")),fill("#DA48975A"),noStroke(),frameRate(60),blendMode(BLEND),imageMode(CENTER);for(let e=0;e<5;e++){let t=p5.Vector.fromAngle(e*TWO_PI/5-HALF_PI);pentaPoints.push(t.copy())}mgr=new SceneManager,populateSceneBank()}function draw(){if(0==frameCountdown){if(frameCountdown=sceneLength,0==sceneBank.length){if(!mgr.isCurrent(AllSketch))return void mgr.showScene(AllSketch);populateSceneBank()}mgr.showScene(sceneBank.pop())}else frameCountdown--;mgr.draw()}function BeasleySketch(){var e=2,t=sceneLength/3;this.enter=function(){fill("#DA48975A"),ratio=.7*height/beasleyPic.height,beasleyPic.resize(beasleyPic.height*ratio,0)},this.draw=function(){background("#000000"),blendMode(ADD),translate(width/2,height/2);for(let i=0;i<5;i++){push(),scale(height/2.1);let n=map(i,0,4,0,4*TWO_PI/5),a=map(frameCount%t,0,t,0,2);n=a>1?-n:n,a=a>1?2-a:a,rotate(n*a),beginShape(),vertex(0,0),curveVertex(pentaPoints[e].x,pentaPoints[e].y),curveVertex(pentaPoints[(e+1)%5].x,pentaPoints[(e+1)%5].y),vertex(0,0),vertex(0,0),endShape(),pop()}frameCount%t==floor(t/2)&&(e=(e+1)%5),blendMode(BLEND),image(beasleyPic,0,0)}}function EakesSketch(){var e=[],t=[];this.enter=function(){fill("#da48967e"),ratio=.7*height/eakesPic.height,eakesPic.resize(eakesPic.height*ratio,0)},this.setup=function(){for(var i=0;i<60;i++){let e=new PackedPentagon;e.startFrame=100-i,t.push(e)}e.push(new PackedPentagon)},this.draw=function(){background("#000000"),blendMode(ADD);let i=e[0];for(let t of e)t.show(),t.step(e),t.startFrame<i.startFrame&&!t.growing&&(i=t);t.length>0?e.push(t.pop()):i.growing||i.regen(),blendMode(BLEND),image(eakesPic,width/2,height/2)}}function PowellSketch(){var e=1.2,t=48*e;this.enter=function(){fill("#da48964b"),ratio=.7*height/powellPic.height,powellPic.resize(powellPic.height*ratio,0)},this.draw=function(){background("#000000"),blendMode(ADD),translate(width/2,height/2);for(var i=0;i<5;i++){let n=pentaPoints[i],a=pentaPoints[(i+1)%5];for(let i=0;i<1;i+=.02){let o=p5.Vector.lerp(n,a,i);o.mult(1+sin(.02*frameCount+map(i,0,1,0,TWO_PI))/6);let s=powellPic.height/1.5;ellipse(o.x*s,o.y*s,40,40),ellipse(o.x*s*e,o.y*s*e,48,48),ellipse(o.x*s*e*e,o.y*s*e*e,t,t)}}blendMode(BLEND),image(powellPic,0,0)}}function BANSketch(){var e=[];this.enter=function(){ratio=.7*height/banPic.height,banPic.resize(banPic.height*ratio,0)},this.setup=function(){for(var t=0;t<80;t++)e.push(new GlassPentagon)},this.draw=function(){for(var t of(background("#000000"),blendMode(ADD),e))t.step(),t.show();blendMode(BLEND),image(banPic,width/2,height/2)}}function MoranSketch(){this.enter=function(){fill("#da489680"),ratio=.7*height/moranPic.height,moranPic.resize(moranPic.height*ratio,0)},this.draw=function(){background("#000000"),blendMode(ADD);for(let t=1;t<=12;t++)for(let i=1;i<=8;i++){let n=map(t,1,12,.1*width,.9*width),a=map(i,1,8,.1*height,.9*height),o=map(i,1,8,0,TWO_PI);for(var e of(o+=t*TWO_PI/12,push(),translate(n+65*sin(o+frameCount/40),a),scale(65),rotate(noise(.005*i,.005*t,frameCount/800)*TWO_PI*3),beginShape(),pentaPoints))vertex(e.x,e.y);endShape(),pop()}blendMode(BLEND),image(moranPic,width/2,height/2)}}function KnegoSketch(){this.enter=function(){fill("#da489620"),ratio=.7*height/knegoPic.height,knegoPic.resize(knegoPic.height*ratio,0)},this.draw=function(){background("#000000"),blendMode(ADD),translate(width/2,height/2);for(let t=0;t<8;t++){let i=map(t,0,8,knegoPic.height,height);for(var e of(push(),scale(i/1.5),rotate(.15*t*millis()/1e3),beginShape(),pentaPoints))vertex(e.x,e.y);endShape(),pop()}blendMode(BLEND),image(knegoPic,0,0)}}function LeeSketch(){var e,t=[];this.enter=function(){e=.6*sceneLength,fill("#da489676"),ratio=.7*height/leePic.height,leePic.resize(leePic.height*ratio,0)},this.setup=function(){for(let e=0;e<180;e++){let e=p5.Vector.random3D().mult(random(max(width,height)));t.push(e)}},this.draw=function(){for(var i of(background("#000000"),translate(width/2,height/2),t)){for(var n of(push(),translate(i.x,i.y),scale(70),rotate(i.z),beginShape(),pentaPoints))vertex(n.x,n.y);endShape(),pop(),e<20?(i.x*=1.04,i.y*=1.04):(i.x*=.995,i.y*=.995);let t=i.x*i.x+i.y*i.y;t=Math.sqrt(t),(t<60||t>max(width,height))&&(i.normalize(),i.rotate(random(TWO_PI)),i.z=random(),t<60?i.mult(max(width,height)):i.mult(random(55,65)))}if(push(),--e<30)if(e>0){let t=e/30;t*=t;let i=floor(255*t);tint(255,255-i),image(headPic,0,0),tint(255,i),image(leePic,0,0)}else image(headPic,0,0);else image(leePic,0,0);pop()}}function AllSketch(){var e=new PentagonGrid,t=[beasleyPic,eakesPic,powellPic,banPic,moranPic,knegoPic,leePic,collabLogo],i=.15,n=.002;this.enter=function(){for(let e of t){let t=width/e.width/4;e.resize(e.width*t,0)}},this.draw=function(){background("#000000"),blendMode(ADD),fill("#DA48975A"),e.show(),blendMode(BLEND);let a=0;for(let e=0;e<4;e++)for(let o=0;o<2;o++){let s=map(e+.5,0,4,0,width),r=map(o+.5,0,2,0,height);push(),translate(s,r),scale(.6+.75*noise(a*i,frameCount*n)),image(t[a],0,0),pop(),a++}}}