const coverNode=document.getElementById("sawubona-sketch");let dims={w:coverNode.clientWidth,h:.66*coverNode.clientWidth};coverNode.style.height=dims.h+"px",document.getElementById("nav-col").style.height=dims.h+"px";let titleImgage,titleWidth,titleHeight,leafImages=[],leaves=[],editionText="the digital edition!";const sketch=e=>{e.preload=()=>{e.loadImage("assets/img/sawubona/dark1.png",e=>{leafImages.push(e),leafImages.push(e),leafImages.push(e)}),e.loadImage("assets/img/sawubona/dark2.png",e=>{leafImages.push(e),leafImages.push(e),leafImages.push(e)}),e.loadImage("assets/img/sawubona/highlight1.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sawubona/highlight2.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sawubona/highlight3.png",e=>{leafImages.push(e)}),e.loadImage("assets/img/sawubona/title.png",e=>{titleImage=e})},e.setup=()=>{e.createCanvas(dims.w,dims.h);titleWidth=.7*e.width,titleHeight=titleWidth/titleImage.width*titleImage.height,e.imageMode(e.CENTER),e.rectMode(e.CENTER),e.textAlign(e.LEFT,e.CENTER),e.noStroke(),e.textSize(titleHeight/4);for(e.leafCols=14,e.leafRows=dims.h/(dims.w/14),leaves=[],i=0;i<e.leafRows;i++){let t=[];for(j=0;j<e.leafCols;j++)t.push(e.random(leafImages));leaves.push(t)}},e.draw=()=>{e.background("#0e0e0e");let t=e.width/e.leafCols,a=e.height/e.leafRows;for(e.push(),e.translate(.5*t,.5*a),i=0;i<e.leafRows;i++){for(j=0;j<e.leafCols;j++){let a=e.noise(.03*i+.002*e.frameCount,.03*j+.002*e.frameCount),s=2*t/leaves[i][j].width;e.push(),e.scale(s,-s),e.rotate(e.TWO_PI*a*2),e.image(leaves[i][j],0,0),e.pop(),e.translate(t,0)}e.translate(-t*e.leafCols,a)}e.pop(),e.push(),e.imageMode(e.CENTER),e.translate(e.width/2,e.height/2),e.image(titleImage,0,0,titleWidth,titleHeight),e.fill("#355F6B"),e.rect(titleWidth/2-.55*e.textWidth(editionText),.4*titleHeight,1.1*e.textWidth(editionText),titleHeight/4+10),e.fill("#FCFAEE");let s=e.ceil(e.frameCount/6)%(editionText.length+20);e.text(editionText.slice(0,s),titleWidth/2-1.05*e.textWidth(editionText),.4*titleHeight),e.pop()},e.windowResized=()=>{dims={w:coverNode.clientWidth,h:coverNode.clientHeight},e.resizeCanvas(dims.w,dims.h)}};new p5(sketch,coverNode);